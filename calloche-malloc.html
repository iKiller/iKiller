<!DOCTYPE html>
<html lang="zh">

<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="/calloche-malloc.html" />

    <title>  jiangtao &mdash; calloc和malloc
</title>




    <link rel="stylesheet" href="/theme/css/style.css">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


    <meta name="author" content="jiangtao">
    <meta name="description" content="void *calloc(unsigned n,unsigned size)； 头文件为：stdlib.h 功 能: 在内存的动态存储区中分配n个长度为size的连续空间，函数返回一个指向分配起始地址的指针；如果分配不成功，返回NULL。 跟malloc的区别： calloc在动态分配完内存后，自动初始化该内存空间为零，而malloc不初始化，里边数据是随机的垃圾数据。并且malloc申请的内存可以是不连续的，而calloc申请的内存空间必须是连续的。 calloc代码： #include<stdio.h> #include<stdlib.h> #include<string.h> int main() { char *pcName; pcName = (char *)calloc(10UL, sizeof(char)); printf("%s\n\n",pcName); printf("The length ...">
  <meta name="tags" contents="c, calloc, malloc, 内存, ">
</head>

<body>
<header class="header">
  <div class="container">
      <div class="header-image pull-left">
        <a class="nodec" href=""><img src=https://avatars2.githubusercontent.com/u/3675980?v=3&s=400></a>
      </div>
    <div class="header-inner">
      <h1 class="header-name">
        <a class="nodec" href="">jiangtao</a>
      </h1>
      <h3 class="header-text"></h3>
      <ul class="header-menu list-inline">
          <li><a class="nodec icon-mail-alt" href="mailto:taojiang0101@gmail.com"></a></li>
          <li><a class="nodec icon-github" href="https://github.com/vnady"></a></li>
          <li><a class="nodec icon-stackoverflow" href="http://stackoverflow.com/users/5523771/qingchen"></a></li>
          <li><a class="nodec icon-twitter" href="https://twitter.com/taojiang0101"></a></li>
          <li><a class="nodec icon-facebook" href="https://www.facebook.com/shawn.henson.125?ref=bookmarks"></a></li>
      </ul>
    </div>
  </div>
</header> <!-- /.header -->  <div class="container">
  <div class="post full-post">
    <h1 class="post-title">
      <a href="/calloche-malloc.html" title="Permalink to calloc和malloc">calloc和malloc</a>
    </h1>
    <ul class="list-inline">
      <li class="post-date">
        <a class="text-muted" href="/calloche-malloc.html" title="2013-02-28T16:34:00+08:00">四 28 二月 2013</a>
      </li>
      <li class="muted">&middot;</li>
      <li class="post-category">
        <a href="/category/cc.html">c/c++</a>
      </li>
        <li class="muted">&middot;</li>
        <li>
            <a href="/tag/c.html">c</a>,             <a href="/tag/calloc.html">calloc</a>,             <a href="/tag/malloc.html">malloc</a>,             <a href="/tag/内存.html">内存</a>        </li>
    </ul>
    <div class="post-content">
      <p>void *calloc(unsigned n,unsigned size)； 头文件为：stdlib.h</p>
<p>功 能: 在内存的动态存储区中分配n个长度为size的连续空间，函数返回一个指向分配起始地址的指针；如果分配不成功，返回NULL。</p>
<p>跟malloc的区别： calloc在动态分配完内存后，自动初始化该内存空间为零，而malloc不初始化，里边数据是随机的垃圾数据。并且malloc申请的内存可以是不连续的，而calloc申请的内存空间必须是连续的。</p>
<p>calloc代码：</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">pcName</span><span class="p">;</span>

    <span class="n">pcName</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">10UL</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">pcName</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;The length is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">strlen</span><span class="p">(</span><span class="n">pcName</span><span class="p">));</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><img src="http://static.oschina.net/uploads/space/2013/0228/162712_BjrP_185037.png"></p>
<p>malloc代码：</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">pcName</span><span class="p">;</span>

    <span class="n">pcName</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">pcName</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;The length is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">strlen</span><span class="p">(</span><span class="n">pcName</span><span class="p">));</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><img src="http://static.oschina.net/uploads/space/2013/0228/162902_7gB0_185037.png"></p>
    </div>
  </div>
  <hr class="separator">
  <div class="col-md-8 col-md-offset-2">
  </div>
  </div>
<footer class="footer">
  <div class="container">
    <p class="text-center">
      jiangtao, <a href="" target="_blank"></a> unless otherwise noted.
    </p>
    <div class="text-center">
      Generated by <a href="http://getpelican.com" target="_blank">Pelican</a> with the <a href="http://github.com/nairobilug/pelican-alchemy">alchemy</a> theme.
    </div>
  </div>
</footer> <!-- /.footer -->
  <script src="/theme/js/jquery.min.js"></script>
  <script src="/theme/js/bootstrap.min.js"></script>
</body> <!-- 42 -->

</html>